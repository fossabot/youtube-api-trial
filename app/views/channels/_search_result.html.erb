<table class='table table-bordered table-hover table-striped'>
  <thead>
  <tr>
    <th></th>
    <th>
      <%= sortable Channel.human_attribute_name(:title), 'title' %>
    </th>
    <th>
      <%= sortable Channel.human_attribute_name(:published_at), 'published_at' %>
    </th>
    <th>
      <%= sortable ChannelStatistic.human_attribute_name(:subscriber_count), 'subscriber_count' %>
    </th>
    <th>
      <%= sortable ChannelStatistic.human_attribute_name(:view_count), 'view_count' %>
    </th>
    <th>
      <%= sortable ChannelStatistic.human_attribute_name(:video_count), 'video_count' %>
    </th>
    <th>
      <%= sortable ChannelStatistic.human_attribute_name(:created_at), 'latest_acquired_at' %>
    </th>
  </tr>
  </thead>

  <tbody>
  <% channels.each do |c| %>
    <tr>
      <td><%= link_to(image_tag(c.thumbnail_url), channel_path(c)) if c.thumbnail_url.present? %></td>
      <td><%= print_link(c.title, channel_path(c), t('text.channel.title.missing')) %></td>
      <td><%= print_datetime(c.published_at) %></td>
      <td>
        <div class="vertical text-right text-nowrap">
          <span>
            <%= print_number(c.subscriber_count) %>
          </span>
          <span>
            <%= print_diff_numbers(c.subscriber_count, c.second_latest_subscriber_count) %>
          </span>
        </div>
      </td>
      <td>
        <div class="vertical text-right text-nowrap">
          <span>
            <%= print_number(c.view_count) %>
          </span>
          <span>
            <%= print_diff_numbers(c.view_count, c.second_latest_view_count) %>
          </span>
        </div>
      </td>
      <td>
        <div class="vertical text-right text-nowrap">
          <span>
            <%= print_number(c.video_count) %>
          </span>
          <span>
            <%= print_diff_numbers(c.video_count, c.second_latest_video_count) %>
          </span>
        </div>
      </td>
      <td>
        <div class="vertical text-right text-nowrap">
          <span>
            <%= print_acquired_at(c.latest_acquired_at) %>
          </span>
          <span>
            <%= print_comparison_period(c.latest_acquired_at, c.second_latest_acquired_at) %>
          </span>
        </div>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>
